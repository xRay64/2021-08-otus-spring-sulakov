{"version":3,"sources":["webpack:///./src/components/BookAddEdit.vue?7e92","webpack:///src/components/BookAddEdit.vue","webpack:///./src/components/BookAddEdit.vue?9813","webpack:///./src/components/BookAddEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","onSubmit","directives","name","rawName","value","expression","model","form","callback","$$v","$set","authorList","genreList","_v","staticRenderFns","data","isEdit","bookId","bookName","selectedAuthors","selectedGenres","mounted","$route","params","book","bookItem","id","getAuthors","getGenres","methods","event","preventDefault","$router","push","component"],"mappings":"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","file":"js/bookEdit.9acd11c7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',[_c('b-row',[_c('b-col'),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-form',{on:{\"submit\":_vm.onSubmit}},[_c('b-form-group',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isEdit),expression:\"isEdit\"}],attrs:{\"id\":\"id-group-1\",\"label\":\"Book id:\",\"label-for\":\"input-id\",\"description\":\"Not editable\"}},[_c('b-form-input',{attrs:{\"id\":\"input-id\",\"required\":\"\",\"readonly\":\"\"},model:{value:(_vm.form.bookId),callback:function ($$v) {_vm.$set(_vm.form, \"bookId\", $$v)},expression:\"form.bookId\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"Book name:\",\"label-for\":\"input-name\"}},[_c('b-form-input',{attrs:{\"id\":\"input-name\",\"required\":\"\"},model:{value:(_vm.form.bookName),callback:function ($$v) {_vm.$set(_vm.form, \"bookName\", $$v)},expression:\"form.bookName\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-3\",\"label\":\"Author name:\",\"label-for\":\"select-author\"}},[_c('b-form-select',{attrs:{\"id\":\"select-author\",\"options\":_vm.form.authorList,\"multiple\":\"\",\"select-size\":6},model:{value:(_vm.form.selectedAuthors),callback:function ($$v) {_vm.$set(_vm.form, \"selectedAuthors\", $$v)},expression:\"form.selectedAuthors\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-4\",\"label\":\"Genre name:\",\"label-for\":\"select-genre\"}},[_c('b-form-select',{attrs:{\"id\":\"select-genre\",\"options\":_vm.form.genreList,\"multiple\":\"\",\"select-size\":6},model:{value:(_vm.form.selectedGenres),callback:function ($$v) {_vm.$set(_vm.form, \"selectedGenres\", $$v)},expression:\"form.selectedGenres\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Save\")])],1)],1),_c('b-col')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <b-container>\n            <b-row>\n                <b-col></b-col>\n                <b-col cols=\"6\">\n                    <b-form @submit=\"onSubmit\">\n                        <b-form-group\n                            v-show=\"isEdit\"\n                            id=\"id-group-1\"\n                            label=\"Book id:\"\n                            label-for=\"input-id\"\n                            description=\"Not editable\"\n                        >\n                            <b-form-input\n                                id=\"input-id\"\n                                v-model=\"form.bookId\"\n                                required\n                                readonly\n                            ></b-form-input>\n                        </b-form-group>\n                        <b-form-group\n                            id=\"input-group-2\"\n                            label=\"Book name:\"\n                            label-for=\"input-name\"\n                        >\n                            <b-form-input\n                            id=\"input-name\"\n                            v-model=\"form.bookName\"\n                            required\n                            ></b-form-input>\n                        </b-form-group>\n                        <b-form-group\n                            id=\"input-group-3\"\n                            label=\"Author name:\"\n                            label-for=\"select-author\"\n                        >\n                            <b-form-select id=\"select-author\" v-model=\"form.selectedAuthors\" :options=\"form.authorList\" multiple :select-size=\"6\"></b-form-select>\n                        </b-form-group>\n                        <b-form-group\n                            id=\"input-group-4\"\n                            label=\"Genre name:\"\n                            label-for=\"select-genre\"\n                        >\n                            <b-form-select id=\"select-genre\" v-model=\"form.selectedGenres\" :options=\"form.genreList\" multiple :select-size=\"6\"></b-form-select>\n                        </b-form-group>\n                        <b-button type=\"submit\" variant=\"primary\">Save</b-button>\n                    </b-form>\n                </b-col>\n                <b-col></b-col>\n            </b-row>\n        </b-container>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data () {\n    return {\n      isEdit: null,\n      form: {\n        bookId: null,\n        bookName: null,\n        authorList: [],\n        genreList: [],\n        selectedAuthors: [],\n        selectedGenres: []\n      }\n    }\n  },\n  mounted () {\n    if (this.$route.params.book != null) {\n      this.isEdit = true\n      const bookItem = this.$route.params.book\n      this.form.bookId = bookItem.id\n      this.form.bookName = bookItem.name\n      this.form.selectedAuthors = bookItem.authorList\n      this.form.selectedGenres = bookItem.genreList\n    }\n    this.getAuthors()\n    this.getGenres()\n  },\n  methods: {\n    getAuthors () {\n      axios\n        .get('/authors')\n        .then(response => (this.form.authorList = response.data.map(d => { return { value: d, text: d.name } })))\n    },\n    getGenres () {\n      axios\n        .get('/genres')\n        .then(response => (this.form.genreList = response.data.map(d => { return { value: d, text: d.name } })))\n    },\n    onSubmit (event) {\n      event.preventDefault()\n      if (this.isEdit) {\n        axios\n          .put('/book/' + this.form.bookId, null, {\n            data: {\n              name: this.form.bookName,\n              authors: this.form.selectedAuthors,\n              genres: this.form.selectedGenres\n            }\n          })\n          .then(response => {})\n          .catch(e => {\n            this.errors.push(e)\n          })\n        this.$router.push({ path: '/' })\n      } else {\n        axios\n          .post('/book', null, {\n            data: {\n              name: this.form.bookName,\n              authors: this.form.selectedAuthors,\n              genres: this.form.selectedGenres\n            }\n          })\n          .then(response => {})\n          .catch(e => {\n            this.errors.push(e)\n          })\n        this.$router.push({ path: '/' })\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookAddEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookAddEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookAddEdit.vue?vue&type=template&id=c9ea7302&\"\nimport script from \"./BookAddEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./BookAddEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}