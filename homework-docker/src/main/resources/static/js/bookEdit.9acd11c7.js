(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bookEdit"],{fda5:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-container",[o("b-row",[o("b-col"),o("b-col",{attrs:{cols:"6"}},[o("b-form",{on:{submit:e.onSubmit}},[o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],attrs:{id:"id-group-1",label:"Book id:","label-for":"input-id",description:"Not editable"}},[o("b-form-input",{attrs:{id:"input-id",required:"",readonly:""},model:{value:e.form.bookId,callback:function(t){e.$set(e.form,"bookId",t)},expression:"form.bookId"}})],1),o("b-form-group",{attrs:{id:"input-group-2",label:"Book name:","label-for":"input-name"}},[o("b-form-input",{attrs:{id:"input-name",required:""},model:{value:e.form.bookName,callback:function(t){e.$set(e.form,"bookName",t)},expression:"form.bookName"}})],1),o("b-form-group",{attrs:{id:"input-group-3",label:"Author name:","label-for":"select-author"}},[o("b-form-select",{attrs:{id:"select-author",options:e.form.authorList,multiple:"","select-size":6},model:{value:e.form.selectedAuthors,callback:function(t){e.$set(e.form,"selectedAuthors",t)},expression:"form.selectedAuthors"}})],1),o("b-form-group",{attrs:{id:"input-group-4",label:"Genre name:","label-for":"select-genre"}},[o("b-form-select",{attrs:{id:"select-genre",options:e.form.genreList,multiple:"","select-size":6},model:{value:e.form.selectedGenres,callback:function(t){e.$set(e.form,"selectedGenres",t)},expression:"form.selectedGenres"}})],1),o("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Save")])],1)],1),o("b-col")],1)],1)],1)},s=[],n=(o("b0c0"),o("d81d"),o("bc3a")),i=o.n(n),a={data:function(){return{isEdit:null,form:{bookId:null,bookName:null,authorList:[],genreList:[],selectedAuthors:[],selectedGenres:[]}}},mounted:function(){if(null!=this.$route.params.book){this.isEdit=!0;var e=this.$route.params.book;this.form.bookId=e.id,this.form.bookName=e.name,this.form.selectedAuthors=e.authorList,this.form.selectedGenres=e.genreList}this.getAuthors(),this.getGenres()},methods:{getAuthors:function(){var e=this;i.a.get("/authors").then((function(t){return e.form.authorList=t.data.map((function(e){return{value:e,text:e.name}}))}))},getGenres:function(){var e=this;i.a.get("/genres").then((function(t){return e.form.genreList=t.data.map((function(e){return{value:e,text:e.name}}))}))},onSubmit:function(e){var t=this;e.preventDefault(),this.isEdit?(i.a.put("/book/"+this.form.bookId,null,{data:{name:this.form.bookName,authors:this.form.selectedAuthors,genres:this.form.selectedGenres}}).then((function(e){})).catch((function(e){t.errors.push(e)})),this.$router.push({path:"/"})):(i.a.post("/book",null,{data:{name:this.form.bookName,authors:this.form.selectedAuthors,genres:this.form.selectedGenres}}).then((function(e){})).catch((function(e){t.errors.push(e)})),this.$router.push({path:"/"}))}}},u=a,l=o("2877"),m=Object(l["a"])(u,r,s,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=bookEdit.9acd11c7.js.map